# VFS Emulator (Эмулятор виртуальной файловой системы)

Эмулятор UNIX-подобной файловой системы в памяти с поддержкой базовых и расширенных команд.  
Проект реализован на Python с GUI на `tkinter` и возможностью загрузки/сохранения VFS в XML.

---

## Основные возможности

### 1. Команды эмулятора

| Команда                | Описание                                       |
| ---------------------- | ---------------------------------------------- |
| `ls [path]`            | Выводит содержимое директории                  |
| `cd [path]`            | Переход в другую директорию                    |
| `rev <file>`           | Переворачивает символы в каждой строке файла   |
| `uniq <file>`          | Удаляет подряд идущие одинаковые строки        |
| `wc <file>`            | Считает строки, слова и байты файла            |
| `vfs-save <path>`      | Сохраняет текущее состояние VFS в XML          |
| `mv <source> <target>` | Перемещает или переименовывает файл/директорию |
| `exit`                 | Выход из эмулятора                             |

> Все операции выполняются **в памяти**, VFS загружается из XML, сохраняется обратно без модификации исходного содержимого.

### 2. Работа с VFS

- Файловая система хранится в памяти с корнем `/`.
- Поддерживаются директории и файлы любого уровня вложенности.
- Исходные файлы XML должны быть формата:

```xml
<?xml version="1.0" encoding="utf-8"?>
<vfs>
    <dir name="level1">
        <file name="test.txt" encoding="text">Line 1
Line 2</file>
    </dir>
</vfs>
```

### 3. Запуск эмулятора

- python main.py --vfs-root temp/vfs.xml --start-script scripts/start_script.txt
- --vfs-root — путь к XML с исходной файловой системой (по умолчанию создаётся пустой VFS с корнем /).
- --start-script — путь к файлу со скриптом команд для автоматического выполнения при запуске.

### 4. Скрипты для тестирования

- scripts/start_script.txt содержит примеры всех команд, включая обработку ошибок, работу с VFS и переименование/перемещение файлов и директорий.
- После выполнения скрипта можно проверить корректность работы команд и сохранение состояния VFS.

### 5. Особенности реализации

GUI на tkinter с консолью для ввода команд.

Глобальное состояние (state.py) хранит:

- vfs — объект виртуальной файловой системы
- dir_stack — текущая директория
- start_script — путь к стартовому скрипту
- Поддерживаются вложенные директории и перенос файлов/папок командой mv.
